{% if site.tags.size > 0 %}

{% capture tag_names %}
	{% for t in site.tags %}
		{{ t[0] | replace: ' ', '___' }}
	{% endfor %}
{% endcapture %}

{% capture sorted_tag_names %}
	{{ tag_names | split:' ' | sort | join:' ' }}
{% endcapture %}

{% capture number_of_tags %}
	{{ sorted_tag_names | number_of_words }}
{% endcapture %}

<ul class="nav pull-left">
	<li class="dropdown">
		<a href="#" class="dropdown-toggle" data-toggle="dropdown">
			Tags
			<b class="caret"></b>
		</a>
		<ul class="dropdown-menu">
{% for i in (1..number_of_tags) %}
	{% capture tag %}
		{{ sorted_tag_names | truncatewords: i | strip_new_lines | remove '...' }}
	{% endcapture %}
			<li>
				<a href="{{ tag }}">
					{{ tag | replace: '___', ' ' }}
				</a>
			</li>
{% endfor %}
		</ul>
	</li>
</ul>
{% endif %}